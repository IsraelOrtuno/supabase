[{"data":1,"prerenderedAt":535},["Reactive",2],{"navigation":3,"/usage/composables/usesupabaseuser":52,"/usage/composables/usesupabaseuser-surround":530},[4,8,12,40,44,48],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","i-heroicons-rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","i-heroicons-lock-closed",{"title":13,"_path":14,"children":15,"icon":39},"Usage","/usage",[16,26],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":27,"_path":28,"children":29},"Server services","/usage/services",[30,33,36],{"title":31,"_path":32},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":34,"_path":35},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":37,"_path":38},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":41,"_path":42,"icon":43},"Demo","/demo","i-heroicons-computer-desktop-20-solid",{"title":45,"_path":46,"icon":47},"Changelog","/changelog","i-heroicons-bookmark",{"title":49,"_path":50,"icon":51},"Roadmap","/roadmap","i-heroicons-map",{"_path":25,"_dir":53,"_draft":54,"_partial":54,"_locale":55,"title":24,"description":56,"body":57,"_type":525,"_id":526,"_source":527,"_file":528,"_extension":529},"composables",false,"","Auto import and use your Supabase user with the useSupabaseUser composable",{"type":58,"children":59,"toc":522},"root",[60,79,167,174,206,219,427,432,495,516],{"type":61,"tag":62,"props":63,"children":64},"element","p",{},[65,68,77],{"type":66,"value":67},"text","Once logged in, you can ",{"type":61,"tag":69,"props":70,"children":74},"a",{"href":71,"rel":72},"https://nuxt.com/docs/guide/directory-structure/composables",[73],"nofollow",[75],{"type":66,"value":76},"auto-import",{"type":66,"value":78}," your user everywhere inside your vue files.",{"type":61,"tag":80,"props":81,"children":85},"pre",{"className":82,"code":83,"language":84,"meta":55,"style":55},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst user = useSupabaseUser()\n\u003C/script>\n","vue",[86],{"type":61,"tag":87,"props":88,"children":89},"code",{"__ignoreMap":55},[90,119,150],{"type":61,"tag":91,"props":92,"children":95},"span",{"class":93,"line":94},"line",1,[96,102,108,114],{"type":61,"tag":91,"props":97,"children":99},{"style":98},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[100],{"type":66,"value":101},"\u003C",{"type":61,"tag":91,"props":103,"children":105},{"style":104},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[106],{"type":66,"value":107},"script",{"type":61,"tag":91,"props":109,"children":111},{"style":110},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[112],{"type":66,"value":113}," setup",{"type":61,"tag":91,"props":115,"children":116},{"style":98},[117],{"type":66,"value":118},">\n",{"type":61,"tag":91,"props":120,"children":122},{"class":93,"line":121},2,[123,128,134,139,145],{"type":61,"tag":91,"props":124,"children":125},{"style":110},[126],{"type":66,"value":127},"const",{"type":61,"tag":91,"props":129,"children":131},{"style":130},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[132],{"type":66,"value":133}," user ",{"type":61,"tag":91,"props":135,"children":136},{"style":98},[137],{"type":66,"value":138},"=",{"type":61,"tag":91,"props":140,"children":142},{"style":141},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[143],{"type":66,"value":144}," useSupabaseUser",{"type":61,"tag":91,"props":146,"children":147},{"style":130},[148],{"type":66,"value":149},"()\n",{"type":61,"tag":91,"props":151,"children":153},{"class":93,"line":152},3,[154,159,163],{"type":61,"tag":91,"props":155,"children":156},{"style":98},[157],{"type":66,"value":158},"\u003C/",{"type":61,"tag":91,"props":160,"children":161},{"style":104},[162],{"type":66,"value":107},{"type":61,"tag":91,"props":164,"children":165},{"style":98},[166],{"type":66,"value":118},{"type":61,"tag":168,"props":169,"children":171},"h2",{"id":170},"auth-middleware",[172],{"type":66,"value":173},"Auth middleware",{"type":61,"tag":175,"props":176,"children":178},"callout",{"icon":177},"i-heroicons-light-bulb",[179],{"type":61,"tag":62,"props":180,"children":181},{},[182,184,190,192,197,199,204],{"type":66,"value":183},"By default, the module is implementing a redirect middleware. All pages of your application are automatically redirected to the ",{"type":61,"tag":69,"props":185,"children":187},{"href":186},"/get-started#redirectoptions",[188],{"type":66,"value":189},"login",{"type":66,"value":191}," page. However, you can allow redirection to \"public\" pages by setting the ",{"type":61,"tag":69,"props":193,"children":194},{"href":186},[195],{"type":66,"value":196},"exclude",{"type":66,"value":198}," redirect option. Alternatively, you can enable the redirect only for certain routes using the ",{"type":61,"tag":69,"props":200,"children":201},{"href":186},[202],{"type":66,"value":203},"include",{"type":66,"value":205}," redirect option.",{"type":61,"tag":62,"props":207,"children":208},{},[209,211,217],{"type":66,"value":210},"If the ",{"type":61,"tag":69,"props":212,"children":214},{"href":213},"/get-started#redirect",[215],{"type":66,"value":216},"redirect",{"type":66,"value":218}," option is disabled, you can protect your authenticated routes by creating a custom middleware in your project, here is an example:",{"type":61,"tag":80,"props":220,"children":225},{"className":221,"code":222,"filename":223,"language":224,"meta":55,"style":55},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtRouteMiddleware((to, _from) => {\n  const user = useSupabaseUser()\n\n  if (!user.value) {\n    return navigateTo('/login')\n  }\n})\n","middleware/auth.ts","ts",[226],{"type":61,"tag":87,"props":227,"children":228},{"__ignoreMap":55},[229,288,314,323,367,405,414],{"type":61,"tag":91,"props":230,"children":231},{"class":93,"line":94},[232,238,243,248,253,257,263,268,273,278,283],{"type":61,"tag":91,"props":233,"children":235},{"style":234},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[236],{"type":66,"value":237},"export",{"type":61,"tag":91,"props":239,"children":240},{"style":234},[241],{"type":66,"value":242}," default",{"type":61,"tag":91,"props":244,"children":245},{"style":141},[246],{"type":66,"value":247}," defineNuxtRouteMiddleware",{"type":61,"tag":91,"props":249,"children":250},{"style":130},[251],{"type":66,"value":252},"(",{"type":61,"tag":91,"props":254,"children":255},{"style":98},[256],{"type":66,"value":252},{"type":61,"tag":91,"props":258,"children":260},{"style":259},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[261],{"type":66,"value":262},"to",{"type":61,"tag":91,"props":264,"children":265},{"style":98},[266],{"type":66,"value":267},",",{"type":61,"tag":91,"props":269,"children":270},{"style":259},[271],{"type":66,"value":272}," _from",{"type":61,"tag":91,"props":274,"children":275},{"style":98},[276],{"type":66,"value":277},")",{"type":61,"tag":91,"props":279,"children":280},{"style":110},[281],{"type":66,"value":282}," =>",{"type":61,"tag":91,"props":284,"children":285},{"style":98},[286],{"type":66,"value":287}," {\n",{"type":61,"tag":91,"props":289,"children":290},{"class":93,"line":121},[291,296,301,306,310],{"type":61,"tag":91,"props":292,"children":293},{"style":110},[294],{"type":66,"value":295},"  const",{"type":61,"tag":91,"props":297,"children":298},{"style":130},[299],{"type":66,"value":300}," user",{"type":61,"tag":91,"props":302,"children":303},{"style":98},[304],{"type":66,"value":305}," =",{"type":61,"tag":91,"props":307,"children":308},{"style":141},[309],{"type":66,"value":144},{"type":61,"tag":91,"props":311,"children":312},{"style":104},[313],{"type":66,"value":149},{"type":61,"tag":91,"props":315,"children":316},{"class":93,"line":152},[317],{"type":61,"tag":91,"props":318,"children":320},{"emptyLinePlaceholder":319},true,[321],{"type":66,"value":322},"\n",{"type":61,"tag":91,"props":324,"children":326},{"class":93,"line":325},4,[327,332,337,342,347,352,357,362],{"type":61,"tag":91,"props":328,"children":329},{"style":234},[330],{"type":66,"value":331},"  if",{"type":61,"tag":91,"props":333,"children":334},{"style":104},[335],{"type":66,"value":336}," (",{"type":61,"tag":91,"props":338,"children":339},{"style":98},[340],{"type":66,"value":341},"!",{"type":61,"tag":91,"props":343,"children":344},{"style":130},[345],{"type":66,"value":346},"user",{"type":61,"tag":91,"props":348,"children":349},{"style":98},[350],{"type":66,"value":351},".",{"type":61,"tag":91,"props":353,"children":354},{"style":130},[355],{"type":66,"value":356},"value",{"type":61,"tag":91,"props":358,"children":359},{"style":104},[360],{"type":66,"value":361},") ",{"type":61,"tag":91,"props":363,"children":364},{"style":98},[365],{"type":66,"value":366},"{\n",{"type":61,"tag":91,"props":368,"children":370},{"class":93,"line":369},5,[371,376,381,385,390,396,400],{"type":61,"tag":91,"props":372,"children":373},{"style":234},[374],{"type":66,"value":375},"    return",{"type":61,"tag":91,"props":377,"children":378},{"style":141},[379],{"type":66,"value":380}," navigateTo",{"type":61,"tag":91,"props":382,"children":383},{"style":104},[384],{"type":66,"value":252},{"type":61,"tag":91,"props":386,"children":387},{"style":98},[388],{"type":66,"value":389},"'",{"type":61,"tag":91,"props":391,"children":393},{"style":392},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[394],{"type":66,"value":395},"/login",{"type":61,"tag":91,"props":397,"children":398},{"style":98},[399],{"type":66,"value":389},{"type":61,"tag":91,"props":401,"children":402},{"style":104},[403],{"type":66,"value":404},")\n",{"type":61,"tag":91,"props":406,"children":408},{"class":93,"line":407},6,[409],{"type":61,"tag":91,"props":410,"children":411},{"style":98},[412],{"type":66,"value":413},"  }\n",{"type":61,"tag":91,"props":415,"children":417},{"class":93,"line":416},7,[418,423],{"type":61,"tag":91,"props":419,"children":420},{"style":98},[421],{"type":66,"value":422},"}",{"type":61,"tag":91,"props":424,"children":425},{"style":130},[426],{"type":66,"value":404},{"type":61,"tag":62,"props":428,"children":429},{},[430],{"type":66,"value":431},"Then you can reference your middleware in your page with:",{"type":61,"tag":80,"props":433,"children":436},{"className":221,"code":434,"filename":435,"language":224,"meta":55,"style":55},"definePageMeta({\n  middleware: 'auth'\n})\n","pages/dashboard.vue",[437],{"type":61,"tag":87,"props":438,"children":439},{"__ignoreMap":55},[440,456,484],{"type":61,"tag":91,"props":441,"children":442},{"class":93,"line":94},[443,448,452],{"type":61,"tag":91,"props":444,"children":445},{"style":141},[446],{"type":66,"value":447},"definePageMeta",{"type":61,"tag":91,"props":449,"children":450},{"style":130},[451],{"type":66,"value":252},{"type":61,"tag":91,"props":453,"children":454},{"style":98},[455],{"type":66,"value":366},{"type":61,"tag":91,"props":457,"children":458},{"class":93,"line":121},[459,464,469,474,479],{"type":61,"tag":91,"props":460,"children":461},{"style":104},[462],{"type":66,"value":463},"  middleware",{"type":61,"tag":91,"props":465,"children":466},{"style":98},[467],{"type":66,"value":468},":",{"type":61,"tag":91,"props":470,"children":471},{"style":98},[472],{"type":66,"value":473}," '",{"type":61,"tag":91,"props":475,"children":476},{"style":392},[477],{"type":66,"value":478},"auth",{"type":61,"tag":91,"props":480,"children":481},{"style":98},[482],{"type":66,"value":483},"'\n",{"type":61,"tag":91,"props":485,"children":486},{"class":93,"line":152},[487,491],{"type":61,"tag":91,"props":488,"children":489},{"style":98},[490],{"type":66,"value":422},{"type":61,"tag":91,"props":492,"children":493},{"style":130},[494],{"type":66,"value":404},{"type":61,"tag":62,"props":496,"children":497},{},[498,500,507,509,515],{"type":66,"value":499},"Learn more about ",{"type":61,"tag":69,"props":501,"children":504},{"href":502,"rel":503},"https://nuxt.com/docs/guide/directory-structure/middleware",[73],[505],{"type":66,"value":506},"Nuxt middleware",{"type":66,"value":508}," and ",{"type":61,"tag":69,"props":510,"children":513},{"href":511,"rel":512},"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata",[73],[514],{"type":66,"value":447},{"type":66,"value":351},{"type":61,"tag":517,"props":518,"children":519},"style",{},[520],{"type":66,"value":521},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":55,"searchDepth":121,"depth":121,"links":523},[524],{"id":170,"depth":121,"text":173},"markdown","content:4.usage:composables:useSupabaseUser.md","content","4.usage/composables/useSupabaseUser.md","md",[531,533],{"_path":22,"title":21,"description":532},"Make requests to the Supabase API with the useSupabaseClient composable",{"_path":32,"title":31,"description":534},"Make requests to the Supabase API on server side with the serverSupabaseClient service",1709806276397]