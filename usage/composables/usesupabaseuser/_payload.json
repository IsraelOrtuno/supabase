[{"data":1,"prerenderedAt":528},["Reactive",2],{"navigation":3,"/usage/composables/usesupabaseuser":52,"/usage/composables/usesupabaseuser-surround":523},[4,8,12,40,44,48],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","i-heroicons-rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","i-heroicons-lock-closed",{"title":13,"_path":14,"children":15,"icon":39},"Usage","/usage",[16,26],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":27,"_path":28,"children":29},"Server services","/usage/services",[30,33,36],{"title":31,"_path":32},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":34,"_path":35},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":37,"_path":38},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":41,"_path":42,"icon":43},"Demo","/demo","i-heroicons-computer-desktop-20-solid",{"title":45,"_path":46,"icon":47},"Changelog","/changelog","i-heroicons-bookmark",{"title":49,"_path":50,"icon":51},"Roadmap","/roadmap","i-heroicons-map",{"_path":25,"_dir":53,"_draft":54,"_partial":54,"_locale":55,"title":24,"description":56,"body":57,"_type":518,"_id":519,"_source":520,"_file":521,"_extension":522},"composables",false,"","Auto import and use your Supabase user with the useSupabaseUser composable",{"type":58,"children":59,"toc":515},"root",[60,79,167,174,199,212,420,425,488,509],{"type":61,"tag":62,"props":63,"children":64},"element","p",{},[65,68,77],{"type":66,"value":67},"text","Once logged in, you can ",{"type":61,"tag":69,"props":70,"children":74},"a",{"href":71,"rel":72},"https://nuxt.com/docs/guide/directory-structure/composables",[73],"nofollow",[75],{"type":66,"value":76},"auto-import",{"type":66,"value":78}," your user everywhere inside your vue files.",{"type":61,"tag":80,"props":81,"children":85},"pre",{"className":82,"code":83,"language":84,"meta":55,"style":55},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst user = useSupabaseUser()\n\u003C/script>\n","vue",[86],{"type":61,"tag":87,"props":88,"children":89},"code",{"__ignoreMap":55},[90,119,150],{"type":61,"tag":91,"props":92,"children":95},"span",{"class":93,"line":94},"line",1,[96,102,108,114],{"type":61,"tag":91,"props":97,"children":99},{"style":98},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[100],{"type":66,"value":101},"\u003C",{"type":61,"tag":91,"props":103,"children":105},{"style":104},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[106],{"type":66,"value":107},"script",{"type":61,"tag":91,"props":109,"children":111},{"style":110},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[112],{"type":66,"value":113}," setup",{"type":61,"tag":91,"props":115,"children":116},{"style":98},[117],{"type":66,"value":118},">\n",{"type":61,"tag":91,"props":120,"children":122},{"class":93,"line":121},2,[123,128,134,139,145],{"type":61,"tag":91,"props":124,"children":125},{"style":110},[126],{"type":66,"value":127},"const",{"type":61,"tag":91,"props":129,"children":131},{"style":130},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[132],{"type":66,"value":133}," user ",{"type":61,"tag":91,"props":135,"children":136},{"style":98},[137],{"type":66,"value":138},"=",{"type":61,"tag":91,"props":140,"children":142},{"style":141},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[143],{"type":66,"value":144}," useSupabaseUser",{"type":61,"tag":91,"props":146,"children":147},{"style":130},[148],{"type":66,"value":149},"()\n",{"type":61,"tag":91,"props":151,"children":153},{"class":93,"line":152},3,[154,159,163],{"type":61,"tag":91,"props":155,"children":156},{"style":98},[157],{"type":66,"value":158},"\u003C/",{"type":61,"tag":91,"props":160,"children":161},{"style":104},[162],{"type":66,"value":107},{"type":61,"tag":91,"props":164,"children":165},{"style":98},[166],{"type":66,"value":118},{"type":61,"tag":168,"props":169,"children":171},"h2",{"id":170},"auth-middleware",[172],{"type":66,"value":173},"Auth middleware",{"type":61,"tag":175,"props":176,"children":178},"callout",{"icon":177},"i-heroicons-light-bulb",[179],{"type":61,"tag":62,"props":180,"children":181},{},[182,184,190,192,197],{"type":66,"value":183},"By default, the module is implementing a redirect middleware. All pages of your application are automatically redirected to the ",{"type":61,"tag":69,"props":185,"children":187},{"href":186},"/get-started#redirectoptions",[188],{"type":66,"value":189},"login",{"type":66,"value":191}," page. However, you can allow redirection to \"public\" pages by setting the ",{"type":61,"tag":69,"props":193,"children":194},{"href":186},[195],{"type":66,"value":196},"exclude",{"type":66,"value":198}," redirect option.",{"type":61,"tag":62,"props":200,"children":201},{},[202,204,210],{"type":66,"value":203},"If the ",{"type":61,"tag":69,"props":205,"children":207},{"href":206},"/get-started#redirect",[208],{"type":66,"value":209},"redirect",{"type":66,"value":211}," option is disabled, you can protect your authenticated routes by creating a custom middleware in your project, here is an example:",{"type":61,"tag":80,"props":213,"children":218},{"className":214,"code":215,"filename":216,"language":217,"meta":55,"style":55},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtRouteMiddleware((to, _from) => {\n  const user = useSupabaseUser()\n\n  if (!user.value) {\n    return navigateTo('/login')\n  }\n})\n","middleware/auth.ts","ts",[219],{"type":61,"tag":87,"props":220,"children":221},{"__ignoreMap":55},[222,281,307,316,360,398,407],{"type":61,"tag":91,"props":223,"children":224},{"class":93,"line":94},[225,231,236,241,246,250,256,261,266,271,276],{"type":61,"tag":91,"props":226,"children":228},{"style":227},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[229],{"type":66,"value":230},"export",{"type":61,"tag":91,"props":232,"children":233},{"style":227},[234],{"type":66,"value":235}," default",{"type":61,"tag":91,"props":237,"children":238},{"style":141},[239],{"type":66,"value":240}," defineNuxtRouteMiddleware",{"type":61,"tag":91,"props":242,"children":243},{"style":130},[244],{"type":66,"value":245},"(",{"type":61,"tag":91,"props":247,"children":248},{"style":98},[249],{"type":66,"value":245},{"type":61,"tag":91,"props":251,"children":253},{"style":252},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[254],{"type":66,"value":255},"to",{"type":61,"tag":91,"props":257,"children":258},{"style":98},[259],{"type":66,"value":260},",",{"type":61,"tag":91,"props":262,"children":263},{"style":252},[264],{"type":66,"value":265}," _from",{"type":61,"tag":91,"props":267,"children":268},{"style":98},[269],{"type":66,"value":270},")",{"type":61,"tag":91,"props":272,"children":273},{"style":110},[274],{"type":66,"value":275}," =>",{"type":61,"tag":91,"props":277,"children":278},{"style":98},[279],{"type":66,"value":280}," {\n",{"type":61,"tag":91,"props":282,"children":283},{"class":93,"line":121},[284,289,294,299,303],{"type":61,"tag":91,"props":285,"children":286},{"style":110},[287],{"type":66,"value":288},"  const",{"type":61,"tag":91,"props":290,"children":291},{"style":130},[292],{"type":66,"value":293}," user",{"type":61,"tag":91,"props":295,"children":296},{"style":98},[297],{"type":66,"value":298}," =",{"type":61,"tag":91,"props":300,"children":301},{"style":141},[302],{"type":66,"value":144},{"type":61,"tag":91,"props":304,"children":305},{"style":104},[306],{"type":66,"value":149},{"type":61,"tag":91,"props":308,"children":309},{"class":93,"line":152},[310],{"type":61,"tag":91,"props":311,"children":313},{"emptyLinePlaceholder":312},true,[314],{"type":66,"value":315},"\n",{"type":61,"tag":91,"props":317,"children":319},{"class":93,"line":318},4,[320,325,330,335,340,345,350,355],{"type":61,"tag":91,"props":321,"children":322},{"style":227},[323],{"type":66,"value":324},"  if",{"type":61,"tag":91,"props":326,"children":327},{"style":104},[328],{"type":66,"value":329}," (",{"type":61,"tag":91,"props":331,"children":332},{"style":98},[333],{"type":66,"value":334},"!",{"type":61,"tag":91,"props":336,"children":337},{"style":130},[338],{"type":66,"value":339},"user",{"type":61,"tag":91,"props":341,"children":342},{"style":98},[343],{"type":66,"value":344},".",{"type":61,"tag":91,"props":346,"children":347},{"style":130},[348],{"type":66,"value":349},"value",{"type":61,"tag":91,"props":351,"children":352},{"style":104},[353],{"type":66,"value":354},") ",{"type":61,"tag":91,"props":356,"children":357},{"style":98},[358],{"type":66,"value":359},"{\n",{"type":61,"tag":91,"props":361,"children":363},{"class":93,"line":362},5,[364,369,374,378,383,389,393],{"type":61,"tag":91,"props":365,"children":366},{"style":227},[367],{"type":66,"value":368},"    return",{"type":61,"tag":91,"props":370,"children":371},{"style":141},[372],{"type":66,"value":373}," navigateTo",{"type":61,"tag":91,"props":375,"children":376},{"style":104},[377],{"type":66,"value":245},{"type":61,"tag":91,"props":379,"children":380},{"style":98},[381],{"type":66,"value":382},"'",{"type":61,"tag":91,"props":384,"children":386},{"style":385},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[387],{"type":66,"value":388},"/login",{"type":61,"tag":91,"props":390,"children":391},{"style":98},[392],{"type":66,"value":382},{"type":61,"tag":91,"props":394,"children":395},{"style":104},[396],{"type":66,"value":397},")\n",{"type":61,"tag":91,"props":399,"children":401},{"class":93,"line":400},6,[402],{"type":61,"tag":91,"props":403,"children":404},{"style":98},[405],{"type":66,"value":406},"  }\n",{"type":61,"tag":91,"props":408,"children":410},{"class":93,"line":409},7,[411,416],{"type":61,"tag":91,"props":412,"children":413},{"style":98},[414],{"type":66,"value":415},"}",{"type":61,"tag":91,"props":417,"children":418},{"style":130},[419],{"type":66,"value":397},{"type":61,"tag":62,"props":421,"children":422},{},[423],{"type":66,"value":424},"Then you can reference your middleware in your page with:",{"type":61,"tag":80,"props":426,"children":429},{"className":214,"code":427,"filename":428,"language":217,"meta":55,"style":55},"definePageMeta({\n  middleware: 'auth'\n})\n","pages/dashboard.vue",[430],{"type":61,"tag":87,"props":431,"children":432},{"__ignoreMap":55},[433,449,477],{"type":61,"tag":91,"props":434,"children":435},{"class":93,"line":94},[436,441,445],{"type":61,"tag":91,"props":437,"children":438},{"style":141},[439],{"type":66,"value":440},"definePageMeta",{"type":61,"tag":91,"props":442,"children":443},{"style":130},[444],{"type":66,"value":245},{"type":61,"tag":91,"props":446,"children":447},{"style":98},[448],{"type":66,"value":359},{"type":61,"tag":91,"props":450,"children":451},{"class":93,"line":121},[452,457,462,467,472],{"type":61,"tag":91,"props":453,"children":454},{"style":104},[455],{"type":66,"value":456},"  middleware",{"type":61,"tag":91,"props":458,"children":459},{"style":98},[460],{"type":66,"value":461},":",{"type":61,"tag":91,"props":463,"children":464},{"style":98},[465],{"type":66,"value":466}," '",{"type":61,"tag":91,"props":468,"children":469},{"style":385},[470],{"type":66,"value":471},"auth",{"type":61,"tag":91,"props":473,"children":474},{"style":98},[475],{"type":66,"value":476},"'\n",{"type":61,"tag":91,"props":478,"children":479},{"class":93,"line":152},[480,484],{"type":61,"tag":91,"props":481,"children":482},{"style":98},[483],{"type":66,"value":415},{"type":61,"tag":91,"props":485,"children":486},{"style":130},[487],{"type":66,"value":397},{"type":61,"tag":62,"props":489,"children":490},{},[491,493,500,502,508],{"type":66,"value":492},"Learn more about ",{"type":61,"tag":69,"props":494,"children":497},{"href":495,"rel":496},"https://nuxt.com/docs/guide/directory-structure/middleware",[73],[498],{"type":66,"value":499},"Nuxt middleware",{"type":66,"value":501}," and ",{"type":61,"tag":69,"props":503,"children":506},{"href":504,"rel":505},"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata",[73],[507],{"type":66,"value":440},{"type":66,"value":344},{"type":61,"tag":510,"props":511,"children":512},"style",{},[513],{"type":66,"value":514},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":55,"searchDepth":121,"depth":121,"links":516},[517],{"id":170,"depth":121,"text":173},"markdown","content:4.usage:composables:useSupabaseUser.md","content","4.usage/composables/useSupabaseUser.md","md",[524,526],{"_path":22,"title":21,"description":525},"Make requests to the Supabase API with the useSupabaseClient composable",{"_path":32,"title":31,"description":527},"Make requests to the Supabase API on server side with the serverSupabaseClient service",1706281644025]