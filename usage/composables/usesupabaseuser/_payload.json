[{"data":1,"prerenderedAt":534},["Reactive",2],{"navigation":3,"/usage/composables/usesupabaseuser":52,"/usage/composables/usesupabaseuser-surround":529},[4,8,12,40,44,48],{"title":5,"_path":6,"icon":7},"Get Started","/get-started","heroicons:rocket-launch",{"title":9,"_path":10,"icon":11},"Authentication","/authentication","heroicons:lock-closed",{"title":13,"_path":14,"children":15,"icon":39},"Usage","/usage",[16,26],{"title":17,"_path":18,"children":19},"Vue composables","/usage/composables",[20,23],{"title":21,"_path":22},"useSupabaseClient","/usage/composables/usesupabaseclient",{"title":24,"_path":25},"useSupabaseUser","/usage/composables/usesupabaseuser",{"title":27,"_path":28,"children":29},"Server services","/usage/services",[30,33,36],{"title":31,"_path":32},"serverSupabaseClient","/usage/services/serversupabaseclient",{"title":34,"_path":35},"serverSupabaseServiceRole","/usage/services/serversupabaseservicerole",{"title":37,"_path":38},"serverSupabaseUser","/usage/services/serversupabaseuser","heroicons:book-open",{"title":41,"_path":42,"icon":43},"Demo","/demo","heroicons:computer-desktop-20-solid",{"title":45,"_path":46,"icon":47},"Changelog","/changelog","heroicons:bookmark",{"title":49,"_path":50,"icon":51},"Roadmap","/roadmap","heroicons:map",{"_path":25,"_dir":53,"_draft":54,"_partial":54,"_locale":55,"title":24,"description":56,"body":57,"_type":524,"_id":525,"_source":526,"_file":527,"_extension":528},"composables",false,"","Auto import and use your Supabase user with the useSupabaseUser composable",{"type":58,"children":59,"toc":521},"root",[60,68,85,173,180,205,218,426,431,494,515],{"type":61,"tag":62,"props":63,"children":65},"element","h1",{"id":64},"usesupabaseuser",[66],{"type":67,"value":24},"text",{"type":61,"tag":69,"props":70,"children":71},"p",{},[72,74,83],{"type":67,"value":73},"Once logged in, you can ",{"type":61,"tag":75,"props":76,"children":80},"a",{"href":77,"rel":78},"https://nuxt.com/docs/guide/directory-structure/composables",[79],"nofollow",[81],{"type":67,"value":82},"auto-import",{"type":67,"value":84}," your user everywhere inside your vue files.",{"type":61,"tag":86,"props":87,"children":91},"pre",{"className":88,"code":89,"language":90,"meta":55,"style":55},"language-vue shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","\u003Cscript setup>\nconst user = useSupabaseUser()\n\u003C/script>\n","vue",[92],{"type":61,"tag":93,"props":94,"children":95},"code",{"__ignoreMap":55},[96,125,156],{"type":61,"tag":97,"props":98,"children":101},"span",{"class":99,"line":100},"line",1,[102,108,114,120],{"type":61,"tag":97,"props":103,"children":105},{"style":104},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF",[106],{"type":67,"value":107},"\u003C",{"type":61,"tag":97,"props":109,"children":111},{"style":110},"--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178",[112],{"type":67,"value":113},"script",{"type":61,"tag":97,"props":115,"children":117},{"style":116},"--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA",[118],{"type":67,"value":119}," setup",{"type":61,"tag":97,"props":121,"children":122},{"style":104},[123],{"type":67,"value":124},">\n",{"type":61,"tag":97,"props":126,"children":128},{"class":99,"line":127},2,[129,134,140,145,151],{"type":61,"tag":97,"props":130,"children":131},{"style":116},[132],{"type":67,"value":133},"const",{"type":61,"tag":97,"props":135,"children":137},{"style":136},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8",[138],{"type":67,"value":139}," user ",{"type":61,"tag":97,"props":141,"children":142},{"style":104},[143],{"type":67,"value":144},"=",{"type":61,"tag":97,"props":146,"children":148},{"style":147},"--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF",[149],{"type":67,"value":150}," useSupabaseUser",{"type":61,"tag":97,"props":152,"children":153},{"style":136},[154],{"type":67,"value":155},"()\n",{"type":61,"tag":97,"props":157,"children":159},{"class":99,"line":158},3,[160,165,169],{"type":61,"tag":97,"props":161,"children":162},{"style":104},[163],{"type":67,"value":164},"\u003C/",{"type":61,"tag":97,"props":166,"children":167},{"style":110},[168],{"type":67,"value":113},{"type":61,"tag":97,"props":170,"children":171},{"style":104},[172],{"type":67,"value":124},{"type":61,"tag":174,"props":175,"children":177},"h2",{"id":176},"auth-middleware",[178],{"type":67,"value":179},"Auth middleware",{"type":61,"tag":181,"props":182,"children":184},"callout",{"icon":183},"i-heroicons-light-bulb",[185],{"type":61,"tag":69,"props":186,"children":187},{},[188,190,196,198,203],{"type":67,"value":189},"By default, the module is implementing a redirect middleware. All pages of your application are automatically redirected to the ",{"type":61,"tag":75,"props":191,"children":193},{"href":192},"/get-started#redirectoptions",[194],{"type":67,"value":195},"login",{"type":67,"value":197}," page. However, you can allow redirection to \"public\" pages by setting the ",{"type":61,"tag":75,"props":199,"children":200},{"href":192},[201],{"type":67,"value":202},"exclude",{"type":67,"value":204}," redirect option.",{"type":61,"tag":69,"props":206,"children":207},{},[208,210,216],{"type":67,"value":209},"If the ",{"type":61,"tag":75,"props":211,"children":213},{"href":212},"/get-started#redirect",[214],{"type":67,"value":215},"redirect",{"type":67,"value":217}," option is disabled, you can protect your authenticated routes by creating a custom middleware in your project, here is an example:",{"type":61,"tag":86,"props":219,"children":224},{"className":220,"code":221,"filename":222,"language":223,"meta":55,"style":55},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtRouteMiddleware((to, _from) => {\n  const user = useSupabaseUser()\n\n  if (!user.value) {\n    return navigateTo('/login')\n  }\n})\n","middleware/auth.ts","ts",[225],{"type":61,"tag":93,"props":226,"children":227},{"__ignoreMap":55},[228,287,313,322,366,404,413],{"type":61,"tag":97,"props":229,"children":230},{"class":99,"line":100},[231,237,242,247,252,256,262,267,272,277,282],{"type":61,"tag":97,"props":232,"children":234},{"style":233},"--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[235],{"type":67,"value":236},"export",{"type":61,"tag":97,"props":238,"children":239},{"style":233},[240],{"type":67,"value":241}," default",{"type":61,"tag":97,"props":243,"children":244},{"style":147},[245],{"type":67,"value":246}," defineNuxtRouteMiddleware",{"type":61,"tag":97,"props":248,"children":249},{"style":136},[250],{"type":67,"value":251},"(",{"type":61,"tag":97,"props":253,"children":254},{"style":104},[255],{"type":67,"value":251},{"type":61,"tag":97,"props":257,"children":259},{"style":258},"--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[260],{"type":67,"value":261},"to",{"type":61,"tag":97,"props":263,"children":264},{"style":104},[265],{"type":67,"value":266},",",{"type":61,"tag":97,"props":268,"children":269},{"style":258},[270],{"type":67,"value":271}," _from",{"type":61,"tag":97,"props":273,"children":274},{"style":104},[275],{"type":67,"value":276},")",{"type":61,"tag":97,"props":278,"children":279},{"style":116},[280],{"type":67,"value":281}," =>",{"type":61,"tag":97,"props":283,"children":284},{"style":104},[285],{"type":67,"value":286}," {\n",{"type":61,"tag":97,"props":288,"children":289},{"class":99,"line":127},[290,295,300,305,309],{"type":61,"tag":97,"props":291,"children":292},{"style":116},[293],{"type":67,"value":294},"  const",{"type":61,"tag":97,"props":296,"children":297},{"style":136},[298],{"type":67,"value":299}," user",{"type":61,"tag":97,"props":301,"children":302},{"style":104},[303],{"type":67,"value":304}," =",{"type":61,"tag":97,"props":306,"children":307},{"style":147},[308],{"type":67,"value":150},{"type":61,"tag":97,"props":310,"children":311},{"style":110},[312],{"type":67,"value":155},{"type":61,"tag":97,"props":314,"children":315},{"class":99,"line":158},[316],{"type":61,"tag":97,"props":317,"children":319},{"emptyLinePlaceholder":318},true,[320],{"type":67,"value":321},"\n",{"type":61,"tag":97,"props":323,"children":325},{"class":99,"line":324},4,[326,331,336,341,346,351,356,361],{"type":61,"tag":97,"props":327,"children":328},{"style":233},[329],{"type":67,"value":330},"  if",{"type":61,"tag":97,"props":332,"children":333},{"style":110},[334],{"type":67,"value":335}," (",{"type":61,"tag":97,"props":337,"children":338},{"style":104},[339],{"type":67,"value":340},"!",{"type":61,"tag":97,"props":342,"children":343},{"style":136},[344],{"type":67,"value":345},"user",{"type":61,"tag":97,"props":347,"children":348},{"style":104},[349],{"type":67,"value":350},".",{"type":61,"tag":97,"props":352,"children":353},{"style":136},[354],{"type":67,"value":355},"value",{"type":61,"tag":97,"props":357,"children":358},{"style":110},[359],{"type":67,"value":360},") ",{"type":61,"tag":97,"props":362,"children":363},{"style":104},[364],{"type":67,"value":365},"{\n",{"type":61,"tag":97,"props":367,"children":369},{"class":99,"line":368},5,[370,375,380,384,389,395,399],{"type":61,"tag":97,"props":371,"children":372},{"style":233},[373],{"type":67,"value":374},"    return",{"type":61,"tag":97,"props":376,"children":377},{"style":147},[378],{"type":67,"value":379}," navigateTo",{"type":61,"tag":97,"props":381,"children":382},{"style":110},[383],{"type":67,"value":251},{"type":61,"tag":97,"props":385,"children":386},{"style":104},[387],{"type":67,"value":388},"'",{"type":61,"tag":97,"props":390,"children":392},{"style":391},"--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D",[393],{"type":67,"value":394},"/login",{"type":61,"tag":97,"props":396,"children":397},{"style":104},[398],{"type":67,"value":388},{"type":61,"tag":97,"props":400,"children":401},{"style":110},[402],{"type":67,"value":403},")\n",{"type":61,"tag":97,"props":405,"children":407},{"class":99,"line":406},6,[408],{"type":61,"tag":97,"props":409,"children":410},{"style":104},[411],{"type":67,"value":412},"  }\n",{"type":61,"tag":97,"props":414,"children":416},{"class":99,"line":415},7,[417,422],{"type":61,"tag":97,"props":418,"children":419},{"style":104},[420],{"type":67,"value":421},"}",{"type":61,"tag":97,"props":423,"children":424},{"style":136},[425],{"type":67,"value":403},{"type":61,"tag":69,"props":427,"children":428},{},[429],{"type":67,"value":430},"Then you can reference your middleware in your page with:",{"type":61,"tag":86,"props":432,"children":435},{"className":220,"code":433,"filename":434,"language":223,"meta":55,"style":55},"definePageMeta({\n  middleware: 'auth'\n})\n","pages/dashboard.vue",[436],{"type":61,"tag":93,"props":437,"children":438},{"__ignoreMap":55},[439,455,483],{"type":61,"tag":97,"props":440,"children":441},{"class":99,"line":100},[442,447,451],{"type":61,"tag":97,"props":443,"children":444},{"style":147},[445],{"type":67,"value":446},"definePageMeta",{"type":61,"tag":97,"props":448,"children":449},{"style":136},[450],{"type":67,"value":251},{"type":61,"tag":97,"props":452,"children":453},{"style":104},[454],{"type":67,"value":365},{"type":61,"tag":97,"props":456,"children":457},{"class":99,"line":127},[458,463,468,473,478],{"type":61,"tag":97,"props":459,"children":460},{"style":110},[461],{"type":67,"value":462},"  middleware",{"type":61,"tag":97,"props":464,"children":465},{"style":104},[466],{"type":67,"value":467},":",{"type":61,"tag":97,"props":469,"children":470},{"style":104},[471],{"type":67,"value":472}," '",{"type":61,"tag":97,"props":474,"children":475},{"style":391},[476],{"type":67,"value":477},"auth",{"type":61,"tag":97,"props":479,"children":480},{"style":104},[481],{"type":67,"value":482},"'\n",{"type":61,"tag":97,"props":484,"children":485},{"class":99,"line":158},[486,490],{"type":61,"tag":97,"props":487,"children":488},{"style":104},[489],{"type":67,"value":421},{"type":61,"tag":97,"props":491,"children":492},{"style":136},[493],{"type":67,"value":403},{"type":61,"tag":69,"props":495,"children":496},{},[497,499,506,508,514],{"type":67,"value":498},"Learn more about ",{"type":61,"tag":75,"props":500,"children":503},{"href":501,"rel":502},"https://nuxt.com/docs/guide/directory-structure/middleware",[79],[504],{"type":67,"value":505},"Nuxt middleware",{"type":67,"value":507}," and ",{"type":61,"tag":75,"props":509,"children":512},{"href":510,"rel":511},"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata",[79],[513],{"type":67,"value":446},{"type":67,"value":350},{"type":61,"tag":516,"props":517,"children":518},"style",{},[519],{"type":67,"value":520},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":55,"searchDepth":127,"depth":127,"links":522},[523],{"id":176,"depth":127,"text":179},"markdown","content:4.usage:composables:useSupabaseUser.md","content","4.usage/composables/useSupabaseUser.md","md",[530,532],{"_path":22,"title":21,"description":531},"Make requests to the Supabase API with the useSupabaseClient composable",{"_path":32,"title":31,"description":533},"Make requests to the Supabase API on server side with the serverSupabaseClient service",1700238204639]